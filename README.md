## Парсер логов
Скрипт предназначен для анализа логов формата
```
%h - - %t "%r" %s %b "%{Referer}" "%{User-Agent}" %d
```
где:  
%h - IP-адрес удаленного хоста  
%t - время получения запроса  
%r - тип запроса, его содержимое и версия протокола  
%s - код состояния HTTP  
%b - количество отданных сервером байт  
%{Referer} - URL-источник запроса  
%{User-Agent} - HTTP-заголовок, содержащий информацию о запросе  
%d - длительность запроса в миллисекундах  

Скрипт запускается из корневой директории командой
```commandline
python main.py
```
После запуска скрипта будет предложено ввести абсолютный путь до файла или директории с логами.  
Если будет введен путь до файла, то скрипт проанализирует его и выведет статистику в JSON файл.  
Если будет введен путь до директории, то скрипт выведет статистику по всем файлам директории отдельно.  
В конце работы скрипта будет выведено сообщение сколько строк не удалось распарсить.  
  
### Формат вывода:
```json
{
  "top_ips": {
    "1.1.1.1": 4,
    "2.2.2.2": 3,
    "3.3.3.3": 2
  },
  "top_longest": [
    {
      "ip": "1.1.1.1",
      "date": "[06/Jan/2016:12:00:02 +0100]",
      "method": "GET",
      "url": "http://www.test.com/index.php",
      "duration": 5000
    },
    {
      "ip": "2.2.2.2",
      "date": "[06/Jan/2016:18:47:57 +0100]",
      "method": "GET",
      "url": "http://www.test2.com/index.php?view=category",
      "duration": 4999
    },
    {
      "ip": "3.3.3.3",
      "date": "[23/Dec/2015:07:27:57 +0100]",
      "method": "POST",
      "url": "-",
      "duration": 4998
    }
  ],
  "total_stat": {
    "GET": 4,
    "POST": 2,
    "HEAD": 1,
    "PUT": 1,
    "OPTIONS": 1,
    "DELETE": 1
  },
  "total_requests": 10
}
```